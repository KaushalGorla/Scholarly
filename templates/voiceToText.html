<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />
    <title>Speech To Text</title>
  </head>
  
<body  style="background-color:black;margin: auto;
width: 50%;
padding: 10px;" >
  
    <h2 class="mt-4 text-light">Transcript</h2>
    <div class="p-3" style="border: 1px solid gray; height: 300px; border-radius: 8px;">
      <span contenteditable="true" id="transcript" class="text-light"></span>
    </div>
    <div class="mt-4">
      <button class="btn btn-success" id="start">Start</button>
      <button class="btn btn-danger" id="stop">Stop</button>
      <p id="status" class="lead mt-3 text-light" style="display: none">Listenting ...</p>
    </div>
  </body>
  <script>
    // Initialize SpeechRecognition object
    const recognition = new webkitSpeechRecognition();
  
    // Set recognition properties
    recognition.continuous = true;
    recognition.interimResults = false;
  
    // Get elements by their ID
    const startBtn = document.getElementById("start");
    const stopBtn = document.getElementById("stop");
    const transcript = document.getElementById("transcript");
    const status = document.getElementById("status");
  
    // Add event listeners to buttons
    startBtn.addEventListener("click", startRecognition);
    stopBtn.addEventListener("click", stopRecognition);
  
    // Start recognition function
    function startRecognition() {
      recognition.start();
      status.style.display = "block";
    }
  
    // Stop recognition function
    function stopRecognition() {
      recognition.stop();
      status.style.display = "none";
    }
  
    // Add event listener for when recognition results are returned
    recognition.addEventListener("result", (event) => {
      let transcriptText = "";
      for (let i = event.resultIndex; i < event.results.length; i++) {
        if (event.results[i].isFinal) {
            transcriptText += event.results[i][0].transcript;
        } else {
            transcriptText += event.results[i][0].transcript + " ";
        }
      }
      transcript.innerHTML = transcriptText;
    });
  </script>

</html>